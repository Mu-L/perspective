import"https://cdn.jsdelivr.net/npm/@finos/perspective-viewer@3.2.1/dist/cdn/perspective-viewer.js";import"https://cdn.jsdelivr.net/npm/@finos/perspective-viewer-datagrid@3.2.1/dist/cdn/perspective-viewer-datagrid.js";import"https://cdn.jsdelivr.net/npm/@finos/perspective-viewer-d3fc@3.2.1/dist/cdn/perspective-viewer-d3fc.js";import e from"https://cdn.jsdelivr.net/npm/@finos/perspective@3.2.1/dist/cdn/perspective.js";var t=["AAPL.N","AMZN.N","QQQ.N","NVDA.N","TSLA.N","FB.N","MSFT.N","TLT.N","XIV.N","YY.N","CSCO.N","GOOGL.N","PCLN.N"],r=["Homer","Marge","Bart","Lisa","Maggie","Moe","Lenny","Carl","Krusty"];function i(){for(var e=[],i=0;i<50;i++)e.push({name:t[Math.floor(Math.random()*t.length)],client:r[Math.floor(Math.random()*r.length)],lastUpdate:new Date,chg:20*Math.random()-10,bid:10*Math.random()+90,ask:10*Math.random()+100,vol:10*Math.random()+100});return e}var a=document.getElementsByTagName("perspective-viewer")[0],n=await e.worker(),s=await n.table(i(),{limit:500});await a.load(Promise.resolve(s)),a.restore({plugin:"Datagrid",columns_config:{"(+)chg":{fg_gradient:7.93,number_fg_mode:"bar"},"(-)chg":{fg_gradient:8.07,number_fg_mode:"bar"},chg:{bg_gradient:9.97,number_bg_mode:"gradient"}},plugin_config:{editable:!1,scroll_lock:!0},settings:!0,theme:"Pro Light",group_by:["name"],split_by:["client"],columns:["(-)chg","chg","(+)chg"],filter:[],sort:[["chg","desc"]],expressions:{"(-)chg":'if("chg"<0){"chg"}else{0}',"(+)chg":'if("chg">0){"chg"}else{0}'},aggregates:{"(-)chg":"avg",chg:"avg","(+)chg":"avg"}}),function e(){s.update(i()),setTimeout(e,10)}();